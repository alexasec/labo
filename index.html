<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/HTML; charset=Shift_JIS">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="smp01.css">
<script>
//=========================================================
//初期処理
//=========================================================
function start(){
  if('serviceWorker' in navigator) {
      navigator.serviceWorker
               .register('sw.js')
               .then(function() { console.log("Service Worker Registered"); })
               .catch(function() { console.log("Service Worker Not Registered"); });
  }
}

//=========================================================
//保存処理
//=========================================================
function SaveKeyValue() {
  if (window.localStorage != null) {
      key = document.forms.form1.Text_key.value;
      value = document.forms.form1.Text_value.value;

      window.localStorage.setItem(key,value);
  }
}

//=========================================================
//読み込み処理
//=========================================================
function LoadKeyValue() {
    if (!window.localStorage != null) {
        key = document.forms.form1.Text_key.value;
        value = window.localStorage.getItem(key)
        document.forms.form1.Text_value.value=value;
    }
}

//=========================================================
//削除処理
//=========================================================
function RemoveKeyValue() {
    if (!window.localStorage != null) {
        key = document.forms.form1.Text_key.value;
        window.localStorage.removeItem(key);
    }
}

//=========================================================
//全クリ処理
//=========================================================
function ClearKeyValue() {
    if (!window.localStorage != null) {
        window.localStorage.clear();
    }
}
//=========================================================
//別ページへ
//=========================================================
function nextpage() {
  location.href="SMP02.htm";
}
</script>
</head>
<body onload="start()">
  <form id="form1">
    Key <input id="Text_key" type="text" /><br/>
    Value <input id="Text_value" type="text" /><br />
    <input class="btn1" id="Button1" type="button" value="保存" onclick="SaveKeyValue()" /><br/>
    <input id="Button2" type="button" value="読み込み" onclick="LoadKeyValue()" /><br />
    <input id="Button3" type="button" value="削除" onclick = "RemoveKeyValue()" /><br />
    <input id="Button4" type="button" value="すべてクリア" onclick="ClearKeyValue()" /><br />
    <br><br>
    <button class="btn1" onclick="nextpage()">別のページへ</button>
  </form>
</body>
</html>
